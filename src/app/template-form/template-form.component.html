<main class="container">
  <form name="job" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm">
    <table class="table">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>

      <thead>
        <tr>
          <th scope="col">Personal Details</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="mb-3">
              <label for="name" class="form-label">Name *</label>
              <input
                name="name"
                type="text"
                class="form-control"
                required
                [(ngModel)]="model.name"
                #name="ngModel"
                minlength="4"
                [ngClass]="{ 'is-invalid': f.submitted && name.invalid }"
              />
              <div *ngIf="f.submitted && name.invalid" class="invalid-feedback">
                <div *ngIf="name.errors?.required">Name is required</div>
                <div *ngIf="name.errors?.minlength">
                  Name should be atleast 3 characters long
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Gender *</label>
              <div class="form-check">
                <input
                  id="male"
                  name="gender"
                  value="male"
                  type="radio"
                  class="form-check-input"
                  required
                  [(ngModel)]="model.gender"
                  #gender="ngModel"
                  [ngClass]="{ 'is-invalid': f.submitted && gender.invalid }"
                />
                <label class="form-check-label" for="male"> Male </label>
              </div>

              <div class="form-check">
                <input
                  id="female"
                  name="gender"
                  value="female"
                  type="radio"
                  class="form-check-input"
                  required
                  [(ngModel)]="model.gender"
                  #gender="ngModel"
                  [ngClass]="{ 'is-invalid': f.submitted && gender.invalid }"
                />
                <label class="form-check-label" for="female"> Female </label>
              </div>
              <div
                *ngIf="f.submitted && gender.invalid && gender.invalid"
                class="invalid-feedback error"
              >
                <div *ngIf="gender.errors?.required">Gender is required</div>
              </div>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email ID *</label>
              <input
                id="email"
                name="email"
                type="text"
                class="form-control"
                email
                required
                [(ngModel)]="model.email"
                #email="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && email.invalid }"
              />
              <div
                *ngIf="f.submitted && email.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="email.errors?.required">Email is required</div>
                <div *ngIf="email.errors?.email">Email is invalid</div>
              </div>
            </div>
          </td>
          <td>
            <div class="mb-3">
              <label for="dob" class="form-label">Date of Birth *</label>
              <input
                id="dob"
                name="dob"
                type="date"
                class="form-control"
                (change)="ageCalc()"
                required
                [(ngModel)]="model.dob"
                #dob="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && dob.invalid }"
              />
              <div *ngIf="f.submitted && dob.invalid" class="invalid-feedback">
                <div *ngIf="dob.errors?.required">DOB is required</div>
              </div>
            </div>

            <div class="mb-3">
              <label for="age" class="form-label">Age *</label>
              <input
                name="age"
                type="number"
                class="form-control"
                value="{{ showAge }}"
                required
                [(ngModel)]="model.age"
                #age="ngModel"
                min="18"
                [ngClass]="{ 'is-invalid': f.submitted && age.invalid }"
                [readonly]="true"
              />
              <div *ngIf="f.submitted && age.invalid" class="invalid-feedback">
                <div *ngIf="age.errors?.required">Age is required</div>
                <div *ngIf="age.errors?.min">Age is below 18</div>
              </div>
            </div>

            <div class="mb-3">
              <label for="blood" class="form-label">Blood Group *</label>
              <select
                id="blood"
                name="blood"
                class="dropdown"
                required
                [(ngModel)]="model.blood"
                #blood="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && blood.invalid }"
              >
                <option>O+</option>
                <option>O-</option>
                <option>A+</option>
                <option>A-</option>
                <option>B+</option>
                <option>B-</option>
              </select>
              <div
                *ngIf="f.submitted && blood.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="blood.errors?.required">
                  Blood Group is required
                </div>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
      <thead>
        <tr>
          <th scope="col">Professional Details</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="mb-3">
              <label for="role" class="form-label">Role *</label>
              <select
                id="role"
                name="role"
                class="dropdown"
                required
                [(ngModel)]="model.role"
                #role="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && role.invalid }"
              >
                <option>Developer</option>
                <option>Tester</option>
                <option>QA</option>
                <option>Product Owner</option>
              </select>
              <div *ngIf="f.submitted && role.invalid" class="invalid-feedback">
                <div *ngIf="role.errors?.required">Role is required</div>
              </div>
            </div>
            <div class="mb-3">
              <label for="prev_comp" class="form-label"
                >Previous Company Name *</label
              >
              <input
                id="prev_comp"
                name="prev_comp"
                type="text"
                class="form-control"
                required
                [(ngModel)]="model.prev_comp"
                #prev_comp="ngModel"
                minlength="3"
                maxlength="50"
                [ngClass]="{ 'is-invalid': f.submitted && prev_comp.invalid }"
              />
              <div
                *ngIf="f.submitted && prev_comp.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="prev_comp.errors?.required">
                  Previous Company Name is required
                </div>
                <div *ngIf="prev_comp.errors?.minlength">
                  Previous Company Name should be atleast 3 characters long
                </div>
                <div *ngIf="prev_comp.errors?.maxlength">
                  Previous Company Name exceeds 50 characters
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="resume" class="form-label">Resume *</label>
              <input
                id="resume"
                name="resume"
                type="file"
                class="resume"
                required
                (change)="onFileSelect($event)"
                [(ngModel)]="model.resume"
                #resume="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && resume.invalid }"
              />
              <div
                *ngIf="f.submitted && resume.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="resume.errors?.required">Resume is required</div>
              </div>
            </div>
          </td>
          <td>
            <div class="mb-3">
              <label for="experience" class="form-label">Experience *</label>
              <input
                id="experience"
                name="experience"
                type="number"
                class="form-control"
                required
                [(ngModel)]="model.experience"
                #experience="ngModel"
                min="2"
                max="5"
                [ngClass]="{ 'is-invalid': f.submitted && experience.invalid }"
              />
              <div
                *ngIf="f.submitted && experience.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="experience.errors?.required">
                  Experience is required
                </div>
                <div *ngIf="experience.errors?.min">
                  Experience is below 2 years
                </div>
                <div *ngIf="experience.errors?.max">
                  Experience is above 5 years
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="prev_comp_exp" class="form-label"
                >Previous Company Experience *</label
              >
              <input
                id="prev_comp_exp"
                name="prev_comp_exp"
                type="number"
                class="form-control"
                required
                [(ngModel)]="model.prev_comp_exp"
                #prev_comp_exp="ngModel"
                min="2"
                max="5"
                [ngClass]="{
                  'is-invalid': f.submitted && prev_comp_exp.invalid
                }"
              />
              <div
                *ngIf="f.submitted && prev_comp_exp.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="prev_comp_exp.errors?.required">
                  Previous Company Experience is required
                </div>
                <div *ngIf="prev_comp_exp.errors?.min">
                  Previous Company Experience is below 2 years
                </div>
                <div *ngIf="prev_comp_exp.errors?.max">
                  Previous Company Experience is above 5 years
                </div>
              </div>
            </div>
          </td>
        </tr>
      </tbody>

      <thead>
        <tr>
          <th scope="col">Academic Details</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="mb-3">
              <label for="sslc_schl" class="form-label"
                >SSLC School Name *</label
              >
              <input
                id="sslc_schl"
                name="sslc_schl"
                type="text"
                class="form-control"
                required
                minlength="3"
                [(ngModel)]="model.sslc_schl"
                #sslc_schl="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && sslc_schl.invalid }"
              />
              <div
                *ngIf="f.submitted && sslc_schl.errors"
                class="invalid-feedback"
              >
                <div *ngIf="sslc_schl.errors?.required">
                  SSLC School Name is required
                </div>
                <div *ngIf="sslc_schl.errors?.minlength">
                  SSLC School Name should be atleast 3 characters long
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="sslc_mode" class="form-label">SSLC Mode *</label>
              <select
                id="sslc_mode"
                name="sslc_mode"
                class="dropdown"
                required
                [(ngModel)]="model.sslc_mode"
                #sslc_mode="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && sslc_mode.invalid }"
              >
                <option>Stateboard</option>
                <option>CBSE</option>
                <option>ICSE</option>
                <option>Other</option>
              </select>
              <div
                *ngIf="f.submitted && sslc_mode.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="sslc_mode.errors?.required">
                  SSLC Mode is required
                </div>
              </div>
            </div>
          </td>
          <td>
            <div class="mb-3">
              <label for="sslc_mark" class="form-label">SSLC Marks *</label>
              <input
                id="sslc_mark"
                name="sslc_mark"
                type="number"
                class="form-control"
                required
                min="175"
                max="500"
                (change)="sslcPercent()"
                [(ngModel)]="model.sslc_mark"
                #sslc_mark="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && sslc_mark.invalid }"
              />
              <div
                *ngIf="f.submitted && sslc_mark.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="sslc_mark.errors?.required">
                  SSLC Marks is required
                </div>
                <div *ngIf="sslc_mark.errors?.min">
                  SSLC Marks is below the minimum marks
                </div>
                <div *ngIf="sslc_mark.errors?.max">
                  SSLC Marks is above the maximum marks
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="sslc_prc" class="form-label">SSLC Percentage *</label>
              <input
                id="sslc_prc"
                name="sslc_prc"
                type="number"
                class="form-control"
                required
                min="35"
                max="100"
                [(ngModel)]="model.sslc_prc"
                #sslc_prc="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && sslc_prc.invalid }"
                [readonly]="true"
              />
              <div
                *ngIf="submitted && sslc_prc.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="sslc_prc.errors?.required">
                  SSLC Percentage is required
                </div>
                <div *ngIf="sslc_prc.errors?.min">
                  SSLC Percentage is below the minimum percentage
                </div>
                <div *ngIf="sslc_prc.errors?.max">
                  SSLC Percentage is above the maximum percentage
                </div>
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="mb-3">
              <label for="hslc_schl" class="form-label"
                >HSLC School Name *</label
              >
              <input
                id="hslc_schl"
                name="hslc_schl"
                type="text"
                class="form-control"
                required
                minlength="3"
                [(ngModel)]="model.hslc_schl"
                #hslc_schl="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && hslc_schl.invalid }"
              />
              <div
                *ngIf="f.submitted && hslc_schl.errors"
                class="invalid-feedback"
              >
                <div *ngIf="hslc_schl.errors?.required">
                  HSLC School Name is required
                </div>
                <div *ngIf="hslc_schl.errors?.minlength">
                  HSLC School Name should be atleast 3 characters long
                </div>
              </div>
            </div>
            <div class="mb-3">
              <label for="hslc_mode" class="form-label">HSLC Mode *</label>
              <select
                id="hslc_mode"
                name="hslc_mode"
                class="dropdown"
                required
                [(ngModel)]="model.hslc_mode"
                #hslc_mode="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && hslc_mode.invalid }"
              >
                <option>Stateboard</option>
                <option>CBSE</option>
                <option>ICSE</option>
                <option>Other</option>
              </select>
              <div
                *ngIf="f.submitted && hslc_mode.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="hslc_mode.errors?.required">
                  HSLC Mode is required
                </div>
              </div>
            </div>
          </td>
          <td>
            <div class="mb-3">
              <label for="hslc_mark" class="form-label">HSLC Marks *</label>
              <input
                id="hslc_mark"
                name="hslc_mark"
                type="number"
                class="form-control"
                required
                min="420"
                max="1200"
                (change)="hslcPercent()"
                [(ngModel)]="model.hslc_mark"
                #hslc_mark="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && hslc_mark.invalid }"
              />
              <div
                *ngIf="f.submitted && hslc_mark.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="hslc_mark.errors?.required">
                  HSLC Marks is required
                </div>
                <div *ngIf="hslc_mark.errors?.min">
                  HSLC Marks is below the minimum marks
                </div>
                <div *ngIf="hslc_mark.errors?.max">
                  HSLC Marks is above the maximum marks
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="hslc_prc" class="form-label">HSLC Percentage *</label>
              <input
                id="hslc_prc"
                name="hslc_prc"
                type="number"
                class="form-control"
                required
                min="35"
                max="100"
                [(ngModel)]="model.hslc_prc"
                #hslc_prc="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && hslc_prc.invalid }"
                [readonly]="true"
              />
              <div
                *ngIf="submitted && hslc_prc.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="hslc_prc.errors?.required">
                  HSLC Percentage is required
                </div>
                <div *ngIf="hslc_prc.errors?.min">
                  HSLC Percentage is below the minimum percentage
                </div>
                <div *ngIf="hslc_prc.errors?.max">
                  HSLC Percentage is above the maximum percentage
                </div>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="button">
      <button type="submit" class="btn btn-primary submit">Submit</button>
      <button type="reset" class="btn btn-danger reset">Reset</button>
    </div>
  </form>
</main>
